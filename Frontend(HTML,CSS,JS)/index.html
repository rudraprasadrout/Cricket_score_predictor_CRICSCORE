<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CricPredict Pro | T20 World Cup 2026 Edition</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-emerald: #064e3b;
            --accent-gold: #facc15;
            --glass-white: rgba(255, 255, 255, 0.08);
            --glass-border: rgba(255, 255, 255, 0.15);
            --text-light: #f8fafc;
            --text-muted: #94a3b8;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Plus Jakarta Sans', sans-serif; }

        body {
            background: linear-gradient(rgba(2, 6, 23, 0.8), rgba(6, 78, 59, 0.85)), 
                        url('https://images.unsplash.com/photo-1531415074968-036ba1b575da?auto=format&fit=crop&q=80&w=1600') center/cover fixed;
            color: var(--text-light);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 15px; /* Reduced for mobile */
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* Navbar */
        nav {
            width: 100%;
            max-width: 1100px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background: var(--glass-white);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            border: 1px solid var(--glass-border);
            margin-bottom: 30px;
        }

        .logo { font-weight: 800; font-size: 1.2rem; letter-spacing: -1px; color: var(--accent-gold); }

        /* Hero / Headline */
        .hero { text-align: center; margin-bottom: 40px; padding: 0 10px; }
        .hero .badge {
            background: var(--accent-gold);
            color: #000;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.7rem;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 1px;
            display: inline-block;
            margin-bottom: 15px;
        }
        .hero h1 { font-size: clamp(2rem, 8vw, 3.5rem); font-weight: 800; margin-bottom: 10px; line-height: 1.1; }
        .hero p { font-size: 0.95rem; color: var(--text-muted); max-width: 600px; margin: 0 auto; }

        /* Main Grid */
        .dashboard-grid {
            display: grid;
            grid-template-columns: 1.2fr 0.8fr;
            gap: 20px;
            width: 100%;
            max-width: 1100px;
        }

        /* Glass Cards */
        .card {
            background: var(--glass-white);
            backdrop-filter: blur(15px);
            border: 1px solid var(--glass-border);
            border-radius: 24px;
            padding: 25px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.4);
            height: fit-content;
        }

        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .input-group { display: flex; flex-direction: column; gap: 8px; position: relative; }
        
        label { font-size: 0.75rem; font-weight: 600; color: var(--text-muted); text-transform: uppercase; }

        /* Custom Image Select Styling */
        .custom-select {
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid var(--glass-border);
            padding: 12px; border-radius: 12px; color: #fff;
            cursor: pointer; display: flex; align-items: center; gap: 10px;
            transition: 0.3s;
            font-size: 0.9rem;
        }
        .custom-select:hover { border-color: var(--accent-gold); }
        .custom-select img { width: 22px; height: 16px; border-radius: 2px; }

        .options-dropdown {
            position: absolute; top: 100%; left: 0; right: 0;
            background: #020617; border: 1px solid var(--glass-border);
            border-radius: 12px; z-index: 100; max-height: 200px;
            overflow-y: auto; display: none; margin-top: 5px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.5);
        }
        .options-dropdown.active { display: block; }
        .option-item {
            padding: 12px; display: flex; align-items: center; gap: 10px;
            cursor: pointer; transition: 0.2s; font-size: 0.9rem;
        }
        .option-item:hover { background: var(--primary-emerald); }
        .option-item img { width: 22px; height: 16px; border-radius: 2px; }

        input {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid var(--glass-border);
            padding: 12px; border-radius: 12px; color: #fff; font-size: 1rem;
            outline: none; transition: 0.3s; width: 100%;
        }
        input:focus { border-color: var(--accent-gold); }

        .predict-btn {
            background: var(--accent-gold); color: #000;
            width: 100%; padding: 16px; border-radius: 12px; border: none;
            font-size: 1rem; font-weight: 800; cursor: pointer;
            margin-top: 10px; transition: 0.3s;
            grid-column: span 2; /* Ensures button takes full width of form grid */
        }
        .predict-btn:hover { transform: translateY(-2px); box-shadow: 0 10px 20px rgba(250, 204, 21, 0.3); }

        /* Result Section */
        .result-box {
            display: none; margin-top: 25px; text-align: center;
            background: rgba(250, 204, 21, 0.1); border: 1px solid var(--accent-gold);
            border-radius: 20px; padding: 20px;
        }
        .result-box span { font-size: 0.8rem; color: var(--accent-gold); font-weight: 700; text-transform: uppercase; }
        .score-display { font-size: clamp(2.5rem, 10vw, 4.5rem); font-weight: 900; line-height: 1; margin-top: 10px; }

        /* Side Panel */
        .side-panel { display: flex; flex-direction: column; gap: 20px; }
        .performance-card h3 { font-size: 1.1rem; margin-bottom: 15px; color: var(--accent-gold); }
        .metric-bar { margin-bottom: 12px; }
        .bar-label { display: flex; justify-content: space-between; font-size: 0.8rem; margin-bottom: 5px; }
        .bar-outer { height: 6px; background: rgba(255,255,255,0.1); border-radius: 10px; overflow: hidden; }
        .bar-inner { height: 100%; background: var(--accent-gold); border-radius: 10px; }

        .story-card { background: rgba(0,0,0,0.2); }
        .story-card h3 { color: var(--accent-gold); margin-bottom: 12px; display: flex; align-items: center; gap: 10px; font-size: 1.1rem;}
        .story-card p { font-size: 0.85rem; color: var(--text-muted); line-height: 1.5; margin-bottom: 12px; }

        .tech-tags { display: flex; flex-wrap: wrap; gap: 6px; margin-top: 10px; }
        .tag { background: rgba(255,255,255,0.05); padding: 4px 8px; border-radius: 6px; font-size: 0.7rem; border: 1px solid var(--glass-border); }

        footer { margin-top: 40px; padding: 30px; text-align: center; width: 100%; border-top: 1px solid var(--glass-border); }
        .footer-links { display: flex; justify-content: center; gap: 20px; margin-top: 10px; flex-wrap: wrap;}
        .footer-links a { color: var(--accent-gold); text-decoration: none; font-weight: 700; font-size: 0.85rem; }

        /* RESPONSIVE QUERIES */
        @media (max-width: 900px) {
            .dashboard-grid { grid-template-columns: 1fr; }
            nav { margin-bottom: 20px; }
        }

        @media (max-width: 600px) {
            .form-grid { grid-template-columns: 1fr; }
            .predict-btn { grid-column: span 1; }
            .card { padding: 20px; }
            .hero h1 { font-size: 2.2rem; }
            nav { flex-direction: column; gap: 15px; text-align: center; }
        }
    </style>
</head>
<body>

    <nav>
        <div class="logo">CRICSCORE <i class="fa-solid fa-chart-line"></i></div>
        <div class="footer-links" style="margin:0">
            <a href="https://github.com/rudraprasadrout" target="_blank"><i class="fa-brands fa-github"></i> GitHub</a>
            <a href="https://linkedin.com/in/routrp07" target="_blank"><i class="fa-brands fa-linkedin"></i> LinkedIn</a>
        </div>
    </nav>

    <div class="hero">
        <span class="badge">Live: T20 World Cup 2026 Edition</span>
        <h1>AI-Powered Score Forecasting</h1>
        <p>Predicting the unpredictable. Using Gradient Boosting to analyze match dynamics in real-time.</p>
    </div>

    <div class="dashboard-grid">
        <div class="card">
            <h3 style="margin-bottom:20px;"><i class="fa-solid fa-flask-vial" style="color:var(--accent-gold)"></i> Input Match Statistics</h3>
            <form id="predictionForm" class="form-grid">
                
                <div class="input-group">
                    <label>Batting Team</label>
                    <div class="custom-select" id="batting_trigger" onclick="toggleDropdown('batting_dropdown')">
                        <img src="https://flagcdn.com/w40/in.png" id="bat_img">
                        <span id="bat_text">India</span>
                    </div>
                    <div class="options-dropdown" id="batting_dropdown"></div>
                </div>

                <div class="input-group">
                    <label>Bowling Team</label>
                    <div class="custom-select" id="bowling_trigger" onclick="toggleDropdown('bowling_dropdown')">
                        <img src="https://flagcdn.com/w40/au.png" id="bowl_img">
                        <span id="bowl_text">Australia</span>
                    </div>
                    <div class="options-dropdown" id="bowling_dropdown"></div>
                </div>

                <div class="input-group">
                    <label>Current Score</label>
                    <input type="number" id="current_score" placeholder="e.g., 105" required>
                </div>
                <div class="input-group">
                    <label>Overs (e.g., 12.3)</label>
                    <input type="number" step="0.1" id="overs" placeholder="0.1 to 19.5" required>
                </div>
                <div class="input-group">
                    <label>Wickets Down</label>
                    <input type="number" id="wickets" placeholder="0-9" required max="9">
                </div>
                <div class="input-group">
                    <label>Current Run Rate (CRR)</label>
                    <input type="number" step="0.01" id="crr" placeholder="e.g., 8.25" required>
                </div>
                <button type="submit" class="predict-btn" id="subBtn">GENERATE PREDICTED SCORE</button>
            </form>

            <div id="resultBox" class="result-box">
                <span>Estimated First Innings Total</span>
                <div class="score-display" id="finalScore">---</div>
            </div>
        </div>

        <div class="side-panel">
            <div class="card story-card">
                <h3><i class="fa-solid fa-lightbulb"></i> My Discovery</h3>
                <p>As the <b>T20 World Cup 2026</b> unfolds, I noticed how broadcasters show a "Predicted Score" mid-innings. Being an aspiring <b>Machine Learning Engineer</b>, I challenged myself to build that exact system using real-world data.</p>
                <p>I utilized a dataset of over 50,000 deliveries to train a model that understands how wickets and run rates influence the final overs surge.</p>
                <div class="tech-tags">
                    <span class="tag">XGBoost</span>
                    <span class="tag">Scikit-Learn</span>
                    <span class="tag">Flask API</span>
                    <span class="tag">Python</span>
                </div>
            </div>

            <div class="card performance-card">
                <h3><i class="fa-solid fa-microchip"></i> Model Performance</h3>
                <div class="metric-bar">
                    <div class="bar-label"><span>Accuracy</span><span>92.86%</span></div>
                    <div class="bar-outer"><div class="bar-inner" style="width: 92.86%;"></div></div>
                </div>
                <div class="metric-bar">
                    <div class="bar-label"><span>R² Score</span><span>0.7963</span></div>
                    <div class="bar-outer"><div class="bar-inner" style="width: 79.63%; background: #38bdf8;"></div></div>
                </div>
                <div class="metric-bar">
                    <div class="bar-label"><span>Mean Absolute Error</span><span>9.49 runs</span></div>
                    <div class="bar-outer"><div class="bar-inner" style="width: 85%; background: #f43f5e;"></div></div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p>Built by <strong>Rudra Prasad Rout </strong> | T20 WC 2026 Prediction Model</p>
        <div class="footer-links">
            <a href="https://github.com/rudraprasadrout" target="_blank">GitHub</a>
            <a href="https://linkedin.com/in/routrp07" target="_blank">LinkedIn</a>
        </div>
    </footer>

    <script>
        const teams = [
            { name: "India", code: "in" },
            { name: "Australia", code: "au" },
            { name: "Pakistan", code: "pk" },
            { name: "England", code: "gb" },
            { name: "South Africa", code: "za" },
            { name: "New Zealand", code: "nz" },
            { name: "West Indies", code: "vg" },
            { name: "Sri Lanka", code: "lk" },
            { name: "Bangladesh", code: "bd" }
        ];

        let selectedBatting = "India";
        let selectedBowling = "Australia";

        function initDropdowns() {
            const batDrop = document.getElementById('batting_dropdown');
            const bowlDrop = document.getElementById('bowling_dropdown');
            
            teams.forEach(team => {
                const item = `<div class="option-item" onclick="selectTeam('${team.name}', '${team.code}', 'bat')">
                                <img src="https://flagcdn.com/w40/${team.code}.png"> <span>${team.name}</span>
                              </div>`;
                batDrop.innerHTML += item;
                
                const item2 = `<div class="option-item" onclick="selectTeam('${team.name}', '${team.code}', 'bowl')">
                                <img src="https://flagcdn.com/w40/${team.code}.png"> <span>${team.name}</span>
                              </div>`;
                bowlDrop.innerHTML += item2;
            });
        }

        function toggleDropdown(id) {
            const dropdown = document.getElementById(id);
            const isActive = dropdown.classList.contains('active');
            // Close all dropdowns first
            document.querySelectorAll('.options-dropdown').forEach(d => d.classList.remove('active'));
            if(!isActive) dropdown.classList.add('active');
        }

        function selectTeam(name, code, type) {
            document.getElementById(`${type}_img`).src = `https://flagcdn.com/w40/${code}.png`;
            document.getElementById(`${type}_text`).innerText = name;
            document.querySelectorAll('.options-dropdown').forEach(d => d.classList.remove('active'));
            if(type === 'bat') selectedBatting = name; else selectedBowling = name;
        }

        window.onclick = function(e) {
            if (!e.target.closest('.input-group')) {
                document.querySelectorAll('.options-dropdown').forEach(d => d.classList.remove('active'));
            }
        }

        document.getElementById('predictionForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const btn = document.getElementById('subBtn');
            const resultBox = document.getElementById('resultBox');
            const scoreDisp = document.getElementById('finalScore');

            const payload = {
                batting_team: selectedBatting,
                bowling_team: selectedBowling,
                current_score: document.getElementById('current_score').value,
                overs: document.getElementById('overs').value,
                wickets: document.getElementById('wickets').value,
                crr: document.getElementById('crr').value
            };

            btn.innerText = "⚡ ANALYZING MATCH TRENDS...";
            btn.disabled = true;

            try {
                const response = await fetch('https://cricket-score-predictor-cricscore.onrender.com/predict', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                const data = await response.json();
                if(data.status === 'success') {
                    resultBox.style.display = 'block';
                    scoreDisp.innerText = data.predicted_score;
                    resultBox.scrollIntoView({ behavior: 'smooth' });
                }
            } catch (err) {
                alert("Please ensure your Flask API is running on port 5000!");
            } finally {
                btn.innerText = "GENERATE PREDICTED SCORE";
                btn.disabled = false;
            }
        });

        initDropdowns();
    </script>
</body>
</html>